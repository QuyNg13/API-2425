{% layout "server/layouts/base.liquid" %}

{% block content %}
<div class="stationSearch">
  <form action="/departures" method="GET">
    <label for="adres">Adres:</label>
    <input type="text" id="adres" name="adres">
    <ul id="suggestions" class="suggestions-list"></ul>
    <button type="submit">Zoek station</button>
  </form>
  <button id="getLocation">Vind dichtstbijzijnde station</button>
</div>

{% if station %}
<div class="station">
  <h2 class="station-content" id="stationResult">{{ station }}</h2>
</div>
{% else %}
<h2 id="stationResult">Geen station gevonden.</h2>
{% endif %}
<ul>
  {% if departures %}
  {% for dep in departures %}
    <li class="departure-item">      
      <a href="/departure/{{ dep.number }}" class="departure-link">
        <div class="departure-info">
          <span>{{ dep.direction }}</span>
          <div><span class="spoor">spoor {{ dep.track }}</span></div>
          <span>{{ dep.product }}</span>
          <span>{{ dep.time | date: "%H:%M" }}</span>
        </div>
        <img src="{{ dep.trainImage }}" alt="Train Image" class="departure-image"/>
      </a>
    </li>
  {% endfor %}
  {% else %}
  <li>Nog geen vertrektijden beschikbaar.</li>
  {% endif %}
</ul>

{% endblock %}